package com.sofis.entities.tipos;

import com.sofis.generico.utils.generalutils.CollectionsUtils;
import com.sofis.generico.utils.generalutils.StringsUtils;
import java.io.Serializable;
import java.util.ArrayList;
import java.util.List;

/**
 * TO utilizado para represntar los datos en el reporte de Productos y Presupuesto.
 * @author MG
 */
public class ReporteAcumuladoTO implements Serializable {

    private static final long serialVersionUID = 1L;
    private String nombre;
    private String descPlan;
    private String descReal;
    private List<ReporteAcumuladoMesTO> meses;
    /**
     * Titulo para la tabla de acumulados.
     */
    private String titulo;

    public ReporteAcumuladoTO() {
        this.meses = new ArrayList<ReporteAcumuladoMesTO>();
    }

    public String getNombre() {
        return nombre;
    }
    
    public void setNombre(String nombre) {
        this.nombre = nombre;
    }
    
    public String getNombreRecortado(int largo) {
        return StringsUtils.recortarTexto(nombre, largo);
    }

    public String getDescPlan() {
        return descPlan;
    }

    public void setDescPlan(String descPlan) {
        this.descPlan = descPlan;
    }

    public String getDescReal() {
        return descReal;
    }

    public void setDescReal(String descReal) {
        this.descReal = descReal;
    }

    public List<ReporteAcumuladoMesTO> getMeses() {
        return meses;
    }

    public void setMeses(List<ReporteAcumuladoMesTO> meses) {
        this.meses = meses;
    }

    public String getTitulo() {
        return titulo;
    }

    public void setTitulo(String titulo) {
        this.titulo = titulo;
    }

    public ReporteAcumuladoMesTO getMesAnio(int anio, int mes) {
        if (CollectionsUtils.isNotEmpty(this.meses)) {
            for (ReporteAcumuladoMesTO acuMes : meses) {
                if (acuMes.getAnio() == anio && acuMes.getMes() == mes) {
                    return acuMes;
                }
            }
        }
        return null;
    }

    /**
     *
     * @param anio
     * @param mes
     * @param tipo 0=Plan, 1=Real.
     * @return
     */
    public Double getMesAnio(int anio, int mes, int tipo) {
        ReporteAcumuladoMesTO acuMes = getMesAnio(anio, mes);
        if (acuMes != null) {
            if (tipo == 0) {
                return acuMes.getValorPlan();
            } else if (tipo == 1) {
                return acuMes.getValorReal();
            }
        }
        return null;
    }

    public void setMes(short anio, short mes, Integer objPk, Double plan, Double real, String colorR) {
        ReporteAcumuladoMesTO acuMes = new ReporteAcumuladoMesTO();
        acuMes.setAnio(anio);
        acuMes.setMes(mes);
        acuMes.setObjPk(objPk);
        acuMes.setValorPlan(plan);
        acuMes.setValorReal(real);
        acuMes.setColorReal(colorR);
        this.getMeses().add(acuMes);
    }
}
