<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ace="http://www.icefaces.org/icefaces/components"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:icecore="http://www.icefaces.org/icefaces/core"
                xmlns:ice="http://www.icesoft.com/icefaces/component"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:of="http://omnifaces.org/functions">

    <o:form id="frmFichaRiesgosPopup">
        <ice:panelPopup draggable="true" 
                        autoCentre="true" 
                        modal="true" 
                        rendered="#{fichaMB.renderPopupRiesgo}">

            <f:facet name="header">
                <ice:panelGroup styleClass="cabezalPopup">
                    <ice:outputText value="#{labels.hRiesgosPopup}"/>
                    <ice:commandButton styleClass="botonCerrar" title ="#{labels.cerrar}" 
                                       action="#{fichaMB.cerrarPopupRiesgo()}"/>
                </ice:panelGroup>
            </f:facet>

            <f:facet name="body">
                <ice:panelGroup styleClass="popupAnchoFijo">

                    <ice:panelGroup id="riesgosFormData">
                        <ice:panelGrid  styleClass="formulario " columns="2">
                            <ice:outputLabel value="#{labels.riesgo_nombre}"/>
                            <ice:outputText value="#{fichaMB.riskPopup.riskNombre}" />

                            <ice:outputLabel value="#{labels.riesgo_probabilidad}"/>
                            <ice:outputText value="#{fichaMB.riskPopup.riskProbabilidad}%" />

                            <ice:outputLabel value="#{labels.riesgo_impacto}"/>
                            <ice:outputText value="#{fichaMB.riskPopup.riskImpacto}" />

                            <ice:outputLabel value="#{labels.riesgo_exposicion}"/>
                            <ice:outputText value="#{fichaMB.riskPopup.exposicion}" 
                                            style="#{!fichaMB.riskPopup.riskSuperado ? 'font-weight: bold;' : ''}; color: #{!fichaMB.riskPopup.riskSuperado ? fichaMB.riskPopup.exposicionColor : ''};"
                                            converter="decimalFormatConverter"/>

                            <ice:outputLabel value="#{labels.riesgo_entregable}"/>
                            <ice:outputText value="#{fichaMB.riskPopup.riskEntregable.entNombre}" />

                            <ice:outputLabel value="#{labels.riesgo_fechaLimite}"/>
                            <ice:outputText value="#{fichaMB.riskPopup.riskFechaLimite}"
                                            style="#{!fichaMB.riskPopup.riskSuperado ? 'font-weight: bold;' : ''}; color: #{!fichaMB.riskPopup.riskSuperado ? fichaMB.riskPopup.fechaLimiteColor : ''};"
                                            converter="fechaConverter"/>

                            <ice:outputLabel value="#{labels.riesgo_efecto}"/>
                            <ice:outputText value="#{fichaMB.riskPopup.riskEfecto}" styleClass="border"/>

                            <ice:outputLabel value="#{labels.riesgo_estrategia}" />
                            <ice:outputText value="#{fichaMB.riskPopup.riskEstrategia}" styleClass="border"/>

                            <ice:outputLabel value="#{labels.riesgo_disparador}"/>
                            <ice:outputText value="#{fichaMB.riskPopup.riskDisparador}" styleClass="border" />

                            <ice:outputLabel value="#{labels.riesgo_contingencia}"/>
                            <ice:outputText value="#{fichaMB.riskPopup.riskContingencia}" styleClass="border" />

                            <ice:outputLabel value="#{labels.riesgo_observaciones}"/>
                            <ice:outputText value="#{fichaMB.riskPopup.riskObservaciones}" styleClass="border" />

                        </ice:panelGrid>
                    </ice:panelGroup> 
                </ice:panelGroup>
            </f:facet>
        </ice:panelPopup>
    </o:form>
</ui:composition>