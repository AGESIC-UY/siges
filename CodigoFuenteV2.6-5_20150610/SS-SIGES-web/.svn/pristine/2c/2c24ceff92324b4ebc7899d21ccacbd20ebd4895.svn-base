<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ace="http://www.icefaces.org/icefaces/components"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:icecore="http://www.icefaces.org/icefaces/core"
                xmlns:ice="http://www.icesoft.com/icefaces/component">

    <script type="text/javascript">
        // slight update to account for browsers not supporting e.which
        function disableF5(e) {
            if ((e.which || e.keyCode) == 116)
                e.preventDefault();
        }
        ;
        // To disable f5
        // jQuery menor a 1.7
        $(document).bind("keydown", disableF5);
        /* OR jQuery >= 1.7 */
        $(document).on("keydown", disableF5);
    </script>

    <ice:form id="ficha" 
              rendered="#{!inicioMB.usuarioAdmin}">
        <ace:textEntry style="display: none" id="diaHoraServer" value="#{fichaMB.diaHoraServer}"/>
        <!-- Titulo -->
        <ice:panelGroup id="tituloPagina" styleClass="tituloPagina">
            <ice:outputLabel value="#{labels.tituloFicha}"/>
            <ice:commandLink id="linkEditarFichaActual"
                             action="#{inicioMB.irEditarProgramaProyecto(fichaMB.fichaTO.fichaFkTipo, false)}" 
                             value="(#{fichaMB.fichaTO.fichaFk})"
                             rendered="#{fichaMB.fichaTO.fichaFk != null}"
                             title="#{labels.actualizar}"/>
        </ice:panelGroup>

        <!-- Datos generales de la ficha -->
        <ice:panelGroup id="ficha_datos_generales" styleClass="fichaDatosGenerales" >

            <ice:panelGroup id="fichaIzq" styleClass="fondo-gris col-sm-8 recuadro formulario">
                <ice:panelGroup styleClass="col-sm-6">
                    <ice:selectOneRadio disabled="#{fichaMB.fieldDisabled('tipoFicha')}" 
                                        partialSubmit="true" 
                                        value="#{fichaMB.fichaTO.tipoFicha}" 
                                        styleClass="radioButton">
                        <f:selectItem itemValue="1" itemLabel="Programa" />
                        <f:selectItem itemValue="2" itemLabel="Proyecto" />
                    </ice:selectOneRadio >
                </ice:panelGroup>

                <ice:panelGroup styleClass="col-sm-6 no-padding fichaUltAct">
                    <ice:outputLabel value="#{labels.ficha_fechaActualizacion}:&nbsp;"
                                     rendered="#{fichaMB.fichaTO.fechaAct != null}"/>
                    <ice:outputText value="#{fichaMB.fichaTO.fechaAct}" 
                                    converter="fechaConverter"
                                    rendered="#{fichaMB.fichaTO.fechaAct != null}"/>
                    <ice:commandButton style="background-color: #{fichaMB.fichaTO.fechaActColor};"
                                       styleClass="botonSemaforo" 
                                       disabled="true"
                                       rendered="#{fichaMB.fichaTO.fechaActColor != null}"/>
                </ice:panelGroup>

                <ice:panelGroup styleClass="col-sm-12 no-padding">
                    <ice:panelGroup styleClass="col-sm-2">
                        <ice:outputLabel value="#{labels.nombreProgProy}:" />
                    </ice:panelGroup>
                    <ice:panelGroup styleClass="col-sm-10">
                        <ace:textEntry disabled="#{fichaMB.fieldDisabled('Nombre')}"
                                       value="#{fichaMB.fichaTO.nombre}"
                                       style="width:100%;"/>
                    </ice:panelGroup>
                </ice:panelGroup>

                <ice:panelGroup styleClass="col-sm-12">
                    <ice:panelGroup rendered="#{fichaMB.fieldRendered('resumenEjecutivo', fichaMB.fichaTO.resumenEjecutivo) and fichaMB.downloadFile[fichaMB.fichaTO.resumenEjecutivo.docsPk] != null}"
                                    styleClass="linkFichaRight">
                        <c:set var="labelLinkResumenEjecutivo" value="#{labels.verResumenEjecutivoFicha} #{fichaMB.fichaTO.resumenEjecutivo != null and fichaMB.fichaTO.resumenEjecutivo.docsTipo != null and fichaMB.fichaTO.resumenEjecutivo.docsTipo.tipodocInstTipoDocFk != null ? fichaMB.fichaTO.resumenEjecutivo.docsTipo.tipodocInstTipoDocFk.tipodocNombre : ''}" />
                        <ice:outputResource 
                            rendered="#{fichaMB.downloadFile[fichaMB.fichaTO.resumenEjecutivo.docsPk] != null}"
                            resource="#{fichaMB.downloadFile[fichaMB.fichaTO.resumenEjecutivo.docsPk]}"
                            label="#{labelLinkResumenEjecutivo}"
                            fileName="#{fichaMB.downloadFile[fichaMB.fichaTO.resumenEjecutivo.docsPk] != null ? fichaMB.downloadFile[fichaMB.fichaTO.resumenEjecutivo.docsPk].docFile.docfileNombre : 'file'}"/>
                    </ice:panelGroup>
                </ice:panelGroup>

                <ice:panelGroup styleClass="col-sm-12">
                    <c:set var="largoDesc" value="200" />
                    <ice:outputLabel value="#{labels.pubweb_que_es_tab}:"/>
                    <ice:outputLabel value="#{labels.pubweb_descripcion}:"/>
                    <ice:panelGroup styleClass="recuadro">
                        <ice:outputText value="#{fichaMB.recortarTxt(fichaMB.fichaTO.descripcion, largoDesc)}"
                                        escape="false"/>
                    </ice:panelGroup>

                    <ice:outputLabel value="#{labels.objFicha}:"/>
                    <ice:panelGroup styleClass="recuadro">
                        <ice:outputText value="#{fichaMB.recortarTxt(fichaMB.fichaTO.objetivo, largoDesc)}"
                                        escape="false"/>
                    </ice:panelGroup>

                    <ice:outputLabel value="#{labels.pubweb_alcance}:"/>
                    <ice:panelGroup styleClass="recuadro">
                        <ice:outputText value="#{fichaMB.recortarTxt(fichaMB.fichaTO.alcance, largoDesc)}"
                                        escape="false"/>
                    </ice:panelGroup>

                    <ice:outputLabel value="#{labels.objPublicoFicha}:"/>
                    <ice:panelGroup styleClass="recuadro">
                        <ice:outputText value="#{fichaMB.recortarTxt(fichaMB.fichaTO.objPublico, largoDesc)}"
                                        escape="false"/>
                    </ice:panelGroup>

                    <ice:outputLabel value="#{labels.pubweb_beneficios_tab}:"/>
                    <ice:outputLabel value="#{labels.pubweb_beneficios}:"/>
                    <ice:panelGroup styleClass="recuadro">
                        <ice:outputText value="#{fichaMB.recortarTxt(fichaMB.fichaTO.beneficios, largoDesc)}"
                                        escape="false"/>
                    </ice:panelGroup>

                    <ice:outputLabel value="#{labels.pubweb_implementacion_tab}:"/>
                    <ice:outputLabel value="#{labels.pubweb_integrantes}:"/>
                    <ice:panelGroup styleClass="recuadro">
                        <ice:outputText value="#{fichaMB.recortarTxt(fichaMB.fichaTO.quienesIntegran, largoDesc)}"
                                        escape="false"/>
                    </ice:panelGroup>

                    <ice:outputLabel value="#{labels.pubweb_rol_de} #{inicioMB.organismo.orgNombre}:"/>
                    <ice:panelGroup styleClass="recuadro">
                        <ice:outputText value="#{fichaMB.recortarTxt(fichaMB.fichaTO.rolOrganismo, largoDesc)}"
                                        escape="false"/>
                    </ice:panelGroup>
                </ice:panelGroup>

                <ice:panelGroup id="panelSituacionActual" styleClass="col-sm-12">
                    <ice:outputLabel value="#{labels.ficha_situacionActualFicha} #{fichaMB.fechaUltimaSitAct}:"/>

                    <ice:commandLink action="#{fichaMB.verHistoricoSitActAction()}" 
                                     value="#{labels.ficha_historico_sitact}" 
                                     title="#{labels.ficha_historico_sitact}"
                                     styleClass="linkFichaRight"/>

                    <ace:richTextEntry id="situacionActual"
                                       value="#{fichaMB.fichaTO.situacionActual}" 
                                       disabled="#{fichaMB.fieldDisabled('SitActual')}"
                                       rendered="#{fichaMB.fieldRendered('SitActual')}"
                                       toolbar="Basic" immediate="true" language="es" 
                                       skin="kama" saveOnSubmit="true" 
                                       styleClass="ancho100" height="100px" />

                    <ice:panelGroup styleClass="recuadro"
                                    rendered="#{!fichaMB.fieldRendered('SitActual')}">
                        <ice:outputText value="#{fichaMB.fichaTO.situacionActual}"
                                        escape="false"/>
                    </ice:panelGroup>
                </ice:panelGroup>

                <ice:commandLink action="#{fichaMB.linkToGRP()}" 
                                 value="#{labels.ficha_grp_link}"
                                 title="#{labels.ficha_grp_link}"
                                 rendered="#{not empty fichaMB.fichaTO.grp}"/>

                <ice:commandLink action="#{fichaMB.verPubWebPopupAction()}" 
                                 value="#{labels.ficha_link_editor}" 
                                 title="#{labels.ficha_link_editor}"
                                 styleClass="linkFichaRight"/>

                <ice:panelGroup id="panelObservaciones" styleClass="col-sm-12">
                    <ice:outputLabel value="#{labels.ficha_observaciones}:"/>
                    <ace:richTextEntry id="observaciones"
                                       value="#{fichaMB.fichaTO.observaciones}" 
                                       disabled="#{fichaMB.fieldDisabled('Observaciones')}"
                                       rendered="#{fichaMB.fieldRendered('Observaciones')}"
                                       toolbar="Basic" immediate="true" language="es" 
                                       skin="kama" saveOnSubmit="true" 
                                       styleClass="ancho100" height="100px" />

                    <ice:panelGroup styleClass="recuadro"
                                    rendered="#{!fichaMB.fieldRendered('Observaciones')}">
                        <ice:outputText value="#{fichaMB.fichaTO.observaciones}"
                                        escape="false"/>
                    </ice:panelGroup>
                </ice:panelGroup>

                <ice:panelGroup style="clear: both" id="estadoFicha">
                    <img class="img-responsive fases" src="./../img/#{fichaMB.imgEstado}"/>
                    <ice:outputText value="#{fichaMB.solCambioEstadoStr()}" />
                </ice:panelGroup>
            </ice:panelGroup>

            <ice:panelGroup id="fichaDer" styleClass="col-sm-4 recuadro">
                <ice:panelGroup id="fichaProgProyPMO1_Parte1" styleClass="formulario">
                    <ice:panelGroup rendered="#{fichaMB.fieldRendered('Area')}">
                        <ice:outputLabel value="#{labels.areaOrganizacionFicha}:"
                                         styleClass="col-sm-3"/>
                        <ice:selectOneMenu id="comboAreas" value="#{fichaMB.listaAreasOrganismoCombo.selected}"
                                           disabled="#{fichaMB.fieldDisabled('Area')}"
                                           styleClass="col-sm-9">
                            <f:selectItems value="#{fichaMB.listaAreasOrganismoCombo.items}"/>
                        </ice:selectOneMenu>
                    </ice:panelGroup>

                    <ice:panelGroup rendered="#{fichaMB.fieldRendered('Programas')}">
                        <ice:panelGroup styleClass="col-sm-9">
                            <ice:outputLabel value="#{labels.programaFicha}:"
                                             styleClass="col-sm-4"/>
                            <ice:selectOneMenu id="comboProgramas" 
                                               value="#{fichaMB.listaProgramasCombo.selected}" 
                                               disabled="#{fichaMB.fieldDisabled('Programas')}" 
                                               valueChangeListener="#{fichaMB.progSetPeso}"
                                               partialSubmit="true"
                                               styleClass="col-sm-8">
                                <f:selectItems value="#{fichaMB.listaProgramasCombo.items}" />
                            </ice:selectOneMenu>
                        </ice:panelGroup>

                        <ice:panelGroup styleClass="col-sm-3 peso">
                            <ice:outputLabel value="#{labels.pesoFicha}"
                                             styleClass="col-sm-4"/>
                            <ace:textEntry value="#{fichaMB.fichaTO.peso}" 
                                           styleClass="col-sm-4" 
                                           disabled="#{fichaMB.fieldDisabled('Peso')}"
                                           rendered="#{fichaMB.fieldRendered('Peso')}"
                                           converter="IntegerFormatConverter" 
                                           converterMessage="#{labels.error_ingreso_incorrecto}"/>
                        </ice:panelGroup>
                    </ice:panelGroup>

                    <ice:panelGroup rendered="#{fichaMB.fieldRendered('Gerente')}">
                        <ice:outputLabel value="#{labels.gerenteFicha}"
                                         styleClass="col-sm-3"/>
                        <ice:selectOneMenu id="comboGerente" value="#{fichaMB.listaGerenteCombo.selected}"
                                           disabled="#{fichaMB.fieldDisabled('Gerente')}"
                                           styleClass="col-sm-9">
                            <f:selectItems value="#{fichaMB.listaGerenteCombo.items}"/>
                        </ice:selectOneMenu>
                    </ice:panelGroup>

                    <ice:panelGroup rendered="#{fichaMB.fieldRendered('Adjunto')}">
                        <ice:outputLabel value="#{labels.adjuntoFicha}"
                                         styleClass="col-sm-3"/>
                        <ice:selectOneMenu id="comboAdjunto" value="#{fichaMB.listaAdjuntoCombo.selected}"
                                           disabled="#{fichaMB.fieldDisabled('Adjunto')}"
                                           styleClass="col-sm-9">
                            <f:selectItems value="#{fichaMB.listaAdjuntoCombo.items}"/>
                        </ice:selectOneMenu>
                    </ice:panelGroup>

                    <ice:panelGroup rendered="#{fichaMB.fieldRendered('Sponsor')}">
                        <ice:outputLabel value="#{labels.sponsorFicha}"
                                         styleClass="col-sm-3"/>
                        <ice:selectOneMenu id="comboSponsor" value="#{fichaMB.listaSponsorCombo.selected}"
                                           disabled="#{fichaMB.fieldDisabled('Sponsor')}"
                                           styleClass="col-sm-9">
                            <f:selectItems value="#{fichaMB.listaSponsorCombo.items}"/>
                        </ice:selectOneMenu>
                    </ice:panelGroup>

                    <ice:panelGroup rendered="#{fichaMB.fieldRendered('PMOFederada')}">
                        <ice:outputLabel value="#{labels.pmoFederadaFicha}:"
                                         styleClass="col-sm-3"/>
                        <ice:selectOneMenu id="comboPMOFed" value="#{fichaMB.listaPmoFederadaCombo.selected}"
                                           disabled="#{fichaMB.fieldDisabled('PMOFederada')}"
                                           styleClass="col-sm-9">
                            <f:selectItems value="#{fichaMB.listaPmoFederadaCombo.items}"/>
                        </ice:selectOneMenu>
                    </ice:panelGroup>

                    <!-- #{labels.fichaConfiguracion}  -->
                    <ice:panelGroup styleClass="semaforo">
                        <ice:panelGroup styleClass="col-sm-4">
                            <ice:outputLabel value="#{labels.tiempoSemaforoAmarillo}"/>  
                            <ace:textEntry value="#{fichaMB.fichaTO.semaforoAmarillo}" 
                                           disabled="#{fichaMB.fieldDisabled('SemaforoAmarillo')}"
                                           style="float:left" styleClass="textoCorto"
                                           converter="IntegerFormatConverter"/>
                        </ice:panelGroup>

                        <ice:panelGroup styleClass="col-sm-4">
                            <ice:outputLabel value="#{labels.tiempoSemaforoRojo}"/>
                            <ace:textEntry value="#{fichaMB.fichaTO.semaforoRojo}" 
                                           disabled="#{fichaMB.fieldDisabled('SemaforoRojo')}"
                                           style="float:left" styleClass="textoCorto"
                                           converter="IntegerFormatConverter"/>
                        </ice:panelGroup>

                        <ice:panelGroup styleClass="col-sm-4">
                            <ice:outputLabel value="#{labels.grpFicha}"/>
                            <ace:textEntry value="#{fichaMB.fichaTO.grp}" 
                                           disabled="#{fichaMB.fieldDisabled('GRP')}" 
                                           style="float:left" styleClass="textoCorto"/>
                        </ice:panelGroup>
                    </ice:panelGroup>

                    <ice:panelGroup style="clear: both">
                        <ice:panelGroup styleClass="col-sm-3"
                                        rendered="#{fichaMB.fieldRendered('AreaTematica')}">
                            <ice:outputLabel value="#{labels.areaTematicaFicha}"/>
                            <ace:pushButton styleClass="botonEditar #{fichaMB.fieldDisabled('AreaTematica') ? 'iconoDisabledTabla' : 'iconoTabla'} #{fichaMB.areasTematicasHasValues() ? 'valores' : ''}" 
                                            disabled="#{fichaMB.fieldDisabled('AreaTematica')}"
                                            action="#{fichaMB.areaTematicaPopup}"/>
                        </ice:panelGroup>

                        <ice:panelGroup styleClass="col-sm-3"
                                        rendered="#{fichaMB.fieldRendered('PermisosLectura')}">
                            <ice:outputLabel value="#{labels.permisosLectura}:"/>
                            <ace:pushButton styleClass="botonEditar #{fichaMB.fieldDisabled('PermisosLectura') ? 'iconoDisabledTabla' : 'iconoTabla'} #{fichaMB.areasRestringidasHasValues() ? 'valores' : ''}" 
                                            disabled="#{fichaMB.fieldDisabled('PermisosLectura')}"
                                            action="#{fichaMB.lecturaPopup}"/>
                        </ice:panelGroup>

                        <ice:panelGroup styleClass="col-sm-3"
                                        rendered="#{fichaMB.fieldRendered('Metodologia')}">
                            <ice:outputLabel value="#{labels.metodologia}"/>
                            <ace:pushButton  styleClass="botonEditar #{fichaMB.fieldDisabled('Metodologia') ? 'iconoDisabledTabla' : 'iconoTabla'}"
                                             disabled="#{fichaMB.fieldDisabled('Metodologia')}"
                                             action="#{fichaMB.metodologiaPopup}"/>
                        </ice:panelGroup>

                        <ice:panelGroup styleClass="col-sm-3"
                                        rendered="#{fichaMB.fieldRendered('notificaciones')}">
                            <ice:outputLabel value="#{labels.ficha_notificaciones}"/>
                            <ace:pushButton styleClass="botonEditar #{fichaMB.fieldDisabled('notificaciones') ? 'iconoDisabledTabla' : 'iconoTabla'}"
                                            disabled="#{fichaMB.fieldDisabled('notificaciones')}"
                                            action="#{fichaMB.notificacionPopupAction()}"/>
                        </ice:panelGroup>
                    </ice:panelGroup>

                    <ice:panelGroup>
                        <ice:outputLabel value="#{labels.ficha_presupuesto_aprob}:"
                                         styleClass="col-sm-12"/>

                        <ace:simpleSelectOneMenu value="#{fichaMB.listaMonedaCombo.selected}"
                                                 styleClass="col-sm-3">
                            <f:selectItems value="#{fichaMB.listaMonedaCombo.items}"/>
                        </ace:simpleSelectOneMenu>

                        <ace:textEntry value="#{fichaMB.presupuesto.preBase}"
                                       styleClass="col-sm-4"
                                       converter="ImporteFormatConverter" />

                        <ace:simpleSelectOneMenu value="#{fichaMB.listaFuentesCombo.selected}"
                                                 styleClass="col-sm-5">
                            <f:selectItems value="#{fichaMB.listaFuentesCombo.items}"/>
                        </ace:simpleSelectOneMenu>

                    </ice:panelGroup>

                    <ice:panelGroup rendered="#{fichaMB.fieldRendered('PublicaWeb')}">
                        <ice:outputLabel value="#{labels.ficha_pub_web}:"
                                         styleClass="col-sm-4"/>
                        <ace:checkboxButton value="#{fichaMB.fichaTO.publicacionWeb}" 
                                            disabled="#{fichaMB.fieldDisabled('PublicaWeb')}"/>
                    </ice:panelGroup>

                    <ice:panelGroup rendered="#{fichaMB.fieldRendered('Editor')}">
                        <ice:outputLabel value="#{labels.ficha_editor}:"
                                         styleClass="col-sm-3"/>
                        <ice:selectOneMenu id="comboEditor" value="#{fichaMB.listaEditorCombo.selected}"
                                           disabled="#{fichaMB.fieldDisabled('PMOFederada')}"
                                           styleClass="col-sm-9">
                            <f:selectItems value="#{fichaMB.listaEditorCombo.items}"/>
                        </ice:selectOneMenu>
                    </ice:panelGroup>

                    <ice:panelGroup rendered="#{fichaMB.fieldRendered('Editor')}">
                        <ice:outputLabel value="#{labels.ficha_historico_editor}:"
                                         styleClass="col-sm-3"/>
                        <!-- Desplegar el historico de la edicion -->
                    </ice:panelGroup>
                </ice:panelGroup>

                <ice:panelGroup rendered="#{inicioMB.verDos}">
                    <ace:linkButton value="#{labels.ficha_copiar_proy}" 
                                    action="#{fichaMB.verCopiaProyAction()}"
                                    rendered="#{fichaMB.fieldRendered('copiarProyecto')}"/>
                </ice:panelGroup>

            </ice:panelGroup>
        </ice:panelGroup>  

        <ice:panelGroup styleClass="panelAcciones">

            <!-- Panel de acciones de la ficha -->
            <ice:panelGroup rendered="#{fichaMB.selectedMostrar == null}" id="panelAcciones" 
                            styleClass="centrado panelBotones margen-sup">

                <ace:messages id="fichaMsg"/>

                <ace:pushButton rendered="#{fichaMB.fieldRendered('GuardarFicha')}"
                                disabled="#{fichaMB.fieldDisabled('GuardarFicha')}"
                                value="#{labels.guardarFicha}"
                                action="#{fichaMB.guardarFichaAction()}"
                                styleClass="boton principal guardar"/>

                <ace:pushButton rendered="#{fichaMB.fieldRendered('retrocederEstadoFicha')}" 
                                style="margin-left: 10px;"
                                value="#{fichaMB.labelBtnEstAnterior}" 
                                action="#{fichaMB.retrocederEstadoFichaAction()}" 
                                styleClass="boton principal atras"/>

                <ace:pushButton rendered="#{fichaMB.fieldRendered('AprobarFicha')}" 
                                style="margin-left: 10px;"
                                value="#{fichaMB.labelBtnAprobar}" 
                                action="#{fichaMB.guardarAprobarFichaAction()}" 
                                styleClass="boton principal adelante"/>

                <h:commandButton id="btnEliminarFicha"
                                 value="#{labels.eliminar}" 
                                 rendered="#{fichaMB.fieldRendered('EliminarFicha')}"
                                 onclick="confirmationEliminar.show()" 
                                 style="margin-left: 10px;"
                                 styleClass="boton principal botonEliminar"
                                 type="button"/>

                <ace:linkButton value="#{labels.volver_inicio}" action="#{fichaMB.cancelar()}"/>

                <ace:confirmationDialog id="confirmDialogAprobar"
                                        widgetVar="confirmationEliminar"
                                        message="#{labels.confirmacionEliminacion}"
                                        header="#{labels.hConfirmacion}"
                                        closable="true"
                                        closeOnEscape="true"
                                        severity="info"
                                        modal="true"
                                        position="center">
                    <h:panelGrid columns="2" styleClass="centeredPanelGrid">
                        <h:commandButton id="yesAprobar"
                                         value="#{labels.si}"
                                         styleClass="boton principal botonContinuar"
                                         onclick="confirmationEliminar.hide()" 
                                         actionListener="#{fichaMB.eliminarFichaAction()}"/>
                        <h:commandButton id="noAprobar"
                                         value="#{labels.no}"
                                         styleClass="boton principal botonEliminar"
                                         onclick="confirmationEliminar.hide()"  />
                    </h:panelGrid>
                </ace:confirmationDialog> 
            </ice:panelGroup>
        </ice:panelGroup>

        <!-- Otros elementos de la ficha -->
        <ice:panelGroup id="panelOtrosDatos" styleClass="otrosDatos row margen-sup">
            <div id="fichas">
                <ice:panelGroup id="fichaFragGrupo1" 
                                styleClass="fichaFragGrupo1 col-sm-6 no-padding"
                                style="#{fichaMB.selectedMostrar == 3 or fichaMB.selectedMostrar == 4 or fichaMB.selectedMostrar == 1 or fichaMB.selectedMostrar == 5 ? 'width: 100%;' : ''}">
                    <!-- El panel del Gannt ID = 3 -->
                    <ui:include src="./../fragmentos/fichaFragmentosGantt.xhtml" />
                    <!-- El panel del Presupuesto ID = 4 -->
                    <ui:include src="./../fragmentos/fichaFragmentosPresupuesto.xhtml" />

                    <div class="clear"></div>

                    <ice:panelGroup id="fichaFragGrupo3" styleClass="fichaFragGrupo3">
                        <!-- El panel de Productos ID  = 5 -->
                        <ui:include src="./../fragmentos/fichaFragmentosProductos.xhtml" />

                        <!-- EL PANEL DE INTERESADOS ID = 1 -->
                        <ui:include src="./../fragmentos/fichaFragmentosInteresados.xhtml" />
                    </ice:panelGroup>
                </ice:panelGroup>

                <ice:panelGroup id="fichaFragGrupo2" 
                                styleClass="fichaFragGrupo2 col-sm-6"
                                style="#{fichaMB.selectedMostrar == 0 or fichaMB.selectedMostrar == 2 or fichaMB.selectedMostrar == 6 ? 'width: 100%; padding:0;' : ''}">
                    <!-- El panel de Riesgos ID = 2 -->
                    <ui:include src="./../fragmentos/fichaFragmentosRiesgos.xhtml" />

                    <!-- El panel de Documentos ID  = 0 -->
                    <ui:include src="./../fragmentos/fichaFragmentosDocumentos.xhtml" />

                    <!-- EL PANEL DE INTERESADOS ID = 6 -->
                    <ui:include src="./../fragmentos/fichaFragmentosParticipantes.xhtml" />
                </ice:panelGroup>

            </div>
        </ice:panelGroup>
    </ice:form>
</ui:composition>