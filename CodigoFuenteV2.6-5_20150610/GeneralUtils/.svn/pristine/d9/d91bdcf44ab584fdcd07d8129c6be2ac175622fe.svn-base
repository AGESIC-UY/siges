package com.sofis.generico.utils.generalutils;

import java.text.SimpleDateFormat;
import java.util.Date;

/**
 *
 * @author Usuario
 */
public class DatesUtils {

    public static final String CALENDAR_PATTERN = "dd/MM/yyyy";

    public static boolean sonStringIguales(Date s1, Date s2) {
        if (s1 != null) {
            if (s2 != null) {
                return s1.equals(s2);
            } else {
                return false;
            }
        } else {
            return s2 == null;
        }
    }

    /**
     * Compara si dos fechas son iguales tomando en cuenta el año, mes y día.
     *
     * @param d1
     * @param d2
     * @return true si son iguales.
     */
    public static boolean fechasIguales(Date d1, Date d2) {
        if (d1 != null && d2 != null) {
            SimpleDateFormat fmt = new SimpleDateFormat("yyyyMMdd");
            return fmt.format(d1).equals(fmt.format(d2));
        }
        return false;
    }

    public static boolean esMayor(Date d1, Date d2) {
        if (d1 != null && d2 != null) {
            SimpleDateFormat fmt = new SimpleDateFormat("yyyyMMdd");
            Integer d1Int = Integer.parseInt(fmt.format(d1));
            Integer d2Int = Integer.parseInt(fmt.format(d2));
            return d1Int > d2Int;
        }
        return false;
    }

    public static String toStringFormat(Date d, String pattern) {
        if (d != null) {
            if (StringsUtils.isEmpty(pattern)) {
                pattern = CALENDAR_PATTERN;
            }
            SimpleDateFormat sdf = new SimpleDateFormat(pattern);
            return sdf.format(d);
        }
        return "";
    }

    public static Integer diasEntreFechas(Date d1, Date d2) {
        if (d1 != null && d2 != null) {
            long diff = d2.getTime() > d1.getTime() ? (d2.getTime() - d1.getTime()) : (d1.getTime() - d2.getTime());
            Integer diffDays = Math.round(diff / 86400000);
            return diffDays;
        }
        return null;
    }
}
